# --- 共通設定 ---
spring.application.name=matcha
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.mvc.hiddenmethod.filter.enabled=true
spring.output.ansi.enabled=ALWAYS
spring.main.banner-mode=off

# --- データベース接続設定 (Railway環境変数 + ローカルフォールバック) ---
# ローカル実行時に環境変数がない場合は、直書きするか、VS Codeの起動設定で環境変数をセットしてください
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA/Hibernate ---
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# 初期化エラー防止
spring.sql.init.mode=never
spring.flyway.enabled=false
spring.liquibase.enabled=false

# --- ファイルアップロード関連 (ここを修正) ---
# エラーログに合わせて /images/ に変更
upload.uri=/images/
# ローカル（Windows）で動かす間は、プロジェクト内のフォルダや分かりやすい場所を指定
upload.dir=./uploads/

logging.level.org.hibernate.SQL=DEBUG